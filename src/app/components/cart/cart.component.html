<div class="cart-container">

  <h2 class="cart-title">
    <mat-icon class="title-icon">shopping_cart</mat-icon>
    <span>Your Shopping Cart</span>
  </h2>

  <!-- Empty Cart -->
  <mat-card class="empty-cart fade-in-up" *ngIf="cartItems.length === 0">
    <mat-card-content>
      <div class="empty-state">
        <div class="empty-icon-wrapper">
          <mat-icon class="empty-icon">shopping_cart</mat-icon>
        </div>
        <h3>Your cart is empty</h3>
        <p>Start adding some amazing products!</p>
        <button mat-raised-button class="browse-btn" routerLink="/products">
          <mat-icon>store</mat-icon>
          <span>Browse Products</span>
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Cart Items Table -->
  <div *ngIf="cartItems.length > 0">
    
    <div class="cart-table-wrapper">
      <table class="cart-table">
        <thead>
          <tr>
            <th>IMAGE</th>
            <th>PRODUCT</th>
            <th>PRICE</th>
            <th>QUANTITY</th>
            <th>SUBTOTAL</th>
            <th>ACTIONS</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of cartItems" class="cart-row">
            <td class="image-cell">
              <img [src]="item.image" [alt]="item.name" class="product-image">
            </td>
            <td class="name-cell">
              <span class="product-name">{{ item.name }}</span>
            </td>
            <td class="price-cell">
              ₹{{ item.price }}
            </td>
            <td class="quantity-cell">
              <div class="quantity-controls">
                <button mat-mini-fab color="accent" (click)="decreaseQuantity(item)">
                  <mat-icon>remove</mat-icon>
                </button>
                <span class="quantity-value">{{ item.quantity }}</span>
                <button mat-mini-fab color="accent" (click)="increaseQuantity(item)">
                  <mat-icon>add</mat-icon>
                </button>
              </div>
            </td>
            <td class="subtotal-cell">
              <span class="subtotal">₹{{ item.price * item.quantity }}</span>
            </td>
            <td class="actions-cell">
              <button mat-icon-button color="warn" (click)="removeItem(item)">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Cart Summary -->
    <mat-card class="cart-summary">
      <mat-card-header>
        <mat-card-title>Order Summary</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="summary-row">
          <span>Subtotal:</span>
          <span>₹{{ getTotal() }}</span>
        </div>
        <div class="summary-row">
          <span>Shipping:</span>
          <span>Free</span>
        </div>
        <hr>
        <div class="summary-row total">
          <span>Total:</span>
          <span>₹{{ getTotal() }}</span>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button routerLink="/checkout" class="checkout-btn">
          <span>Proceed to Checkout</span>
          <mat-icon>arrow_forward</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>

  </div>

</div>
